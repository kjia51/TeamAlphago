<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.alpha.mapper.LearnerMapper">

<!-- 그룹명으로 수강콘텐츠 리스트 출력  -->
<select id="groupList" resultType="com.alpha.vo.LearnerVO">
	select m_name
		, TO_CHAR(g_start, 'YY.MM.DD') || ' ~ ' || TO_CHAR(g_end, 'YY.MM.DD')
		, TO_CHAR(g_cnt)|| ' / ' ||TO_CHAR(c_able)
	from groups g 
		left join 
		(select * from member) m on (g.t_M_ID = m.m_id)
		left join 
		(select * from content) c on (g.g_c_ID = c.c_id)
		left join 
		(select * from learner) l on (g.g_ID = l.l_g_id)
	where g_name = ${g_name};
</select> 

</mapper>